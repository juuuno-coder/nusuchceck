<div class="max-w-4xl mx-auto py-8 fade-in">
  <div class="mb-6 flex items-center justify-between">
    <h1 class="text-2xl font-bold text-gray-900">π”” μ•λ¦Ό</h1>
    <% if @unread_count > 0 %>
      <%= button_to "λ¨λ‘ μ½μ μ²λ¦¬", mark_all_as_read_notifications_path, method: :post,
            class: "px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition text-sm font-medium" %>
    <% end %>
  </div>

  <% if @unread_count > 0 %>
    <div class="mb-4 bg-blue-50 border border-blue-200 rounded-lg p-4">
      <p class="text-sm text-blue-800">
        <strong><%= @unread_count %>κ°</strong>μ μ½μ§€ μ•μ€ μ•λ¦Όμ΄ μμ–΄μ”
      </p>
    </div>
  <% end %>

  <div class="bg-white rounded-xl shadow-sm border border-gray-100">
    <% if @notifications.any? %>
      <div class="divide-y divide-gray-200">
        <% @notifications.each do |notification| %>
          <div class="<%= notification.unread? ? 'bg-blue-50' : 'bg-white' %> hover:bg-gray-50 transition-smooth p-6">
            <div class="flex gap-4">
              <div class="flex-shrink-0 text-3xl">
                <%= notification.icon %>
              </div>
              <div class="flex-1 min-w-0">
                <div class="flex items-start justify-between gap-4">
                  <div class="flex-1">
                    <p class="font-medium text-gray-900">
                      <%= notification.message %>
                    </p>
                    <p class="text-sm text-gray-500 mt-1">
                      <%= l(notification.created_at, format: :long) %>
                      (<%= time_ago_in_words(notification.created_at) %> μ „)
                    </p>
                    <% if notification.notifiable %>
                      <div class="mt-3">
                        <%= link_to "μμ„Έν λ³΄κΈ° β†’",
                              notification_path(notification.notifiable),
                              class: "inline-flex items-center text-sm text-blue-600 hover:text-blue-800 font-medium" %>
                      </div>
                    <% end %>
                  </div>
                  <div class="flex items-center gap-2">
                    <% if notification.unread? %>
                      <%= button_to mark_as_read_notification_path(notification), method: :post,
                            class: "px-3 py-1.5 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition text-xs font-medium" do %>
                        μ½μ μ²λ¦¬
                      <% end %>
                    <% else %>
                      <span class="text-xs text-gray-500 bg-gray-100 px-3 py-1.5 rounded-lg">μ½μ</span>
                    <% end %>
                  </div>
                </div>
              </div>
            </div>
          </div>
        <% end %>
      </div>

      <!-- νμ΄μ§€λ„¤μ΄μ… -->
      <div class="px-6 py-4 border-t border-gray-200">
        <%= paginate @notifications %>
      </div>
    <% else %>
      <%= render "shared/empty_state",
            icon: "bell",
            title: "μ•„μ§ μ•λ¦Όμ΄ μ—†μ–΄μ”",
            description: "μƒλ΅μ΄ ν™λ™μ΄ μμΌλ©΄ μ—¬κΈ°μ— μ•λ¦Όμ΄ ν‘μ‹λ©λ‹λ‹¤" %>
    <% end %>
  </div>
</div>
