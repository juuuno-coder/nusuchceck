<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <style>
    body {
      font-family: 'Malgun Gothic', sans-serif;
      line-height: 1.6;
      color: #333;
      max-width: 600px;
      margin: 0 auto;
      padding: 20px;
    }
    .header {
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      color: white;
      padding: 30px;
      border-radius: 8px;
      text-align: center;
      margin-bottom: 30px;
    }
    .content {
      background: #f9fafb;
      padding: 25px;
      border-radius: 8px;
      margin-bottom: 20px;
    }
    .info-row {
      display: flex;
      padding: 10px 0;
      border-bottom: 1px solid #e5e7eb;
    }
    .info-label {
      font-weight: bold;
      width: 150px;
      color: #4b5563;
    }
    .info-value {
      flex: 1;
      color: #111827;
    }
    .footer {
      text-align: center;
      color: #6b7280;
      font-size: 12px;
      padding-top: 20px;
      border-top: 1px solid #e5e7eb;
    }
    .attachments {
      background: #fff;
      padding: 15px;
      border-radius: 8px;
      border: 1px solid #e5e7eb;
    }
  </style>
</head>
<body>
  <div class="header">
    <h1 style="margin: 0; font-size: 24px;">ğŸ¢ ì¼ìƒë°°ìƒì±…ì„ë³´í—˜ ì²­êµ¬</h1>
    <p style="margin: 10px 0 0 0; font-size: 14px; opacity: 0.9;">ëˆ„ìˆ˜ì²´í¬ í”Œë«í¼</p>
  </div>

  <div class="content">
    <h2 style="margin-top: 0; color: #111827;">ì²­êµ¬ ì •ë³´</h2>

    <div class="info-row">
      <div class="info-label">ì²­êµ¬ ë²ˆí˜¸:</div>
      <div class="info-value"><%= @insurance_claim.claim_number %></div>
    </div>

    <div class="info-row">
      <div class="info-label">ì‹ ì²­ì:</div>
      <div class="info-value"><%= @insurance_claim.applicant_name %></div>
    </div>

    <div class="info-row">
      <div class="info-label">ì—°ë½ì²˜:</div>
      <div class="info-value"><%= @insurance_claim.applicant_phone %></div>
    </div>

    <div class="info-row">
      <div class="info-label">ì´ë©”ì¼:</div>
      <div class="info-value"><%= @insurance_claim.applicant_email || "-" %></div>
    </div>

    <div class="info-row">
      <div class="info-label">ì‚¬ê³  ë°œìƒì¼:</div>
      <div class="info-value"><%= @insurance_claim.incident_date.strftime("%Yë…„ %mì›” %dì¼") %></div>
    </div>

    <div class="info-row">
      <div class="info-label">ì‚¬ê³  ì¥ì†Œ:</div>
      <div class="info-value">
        <%= @insurance_claim.incident_address %>
        <%= " #{@insurance_claim.incident_detail_address}" if @insurance_claim.incident_detail_address.present? %>
      </div>
    </div>

    <div class="info-row">
      <div class="info-label">í”¼í•´ ìœ í˜•:</div>
      <div class="info-value"><%= @insurance_claim.damage_type_label %></div>
    </div>

    <div class="info-row">
      <div class="info-label">ì˜ˆìƒ í”¼í•´ì•¡:</div>
      <div class="info-value">
        <%= @insurance_claim.estimated_damage_amount ? number_to_currency(@insurance_claim.estimated_damage_amount, unit: "â‚©", precision: 0) : "-" %>
      </div>
    </div>
  </div>

  <div class="content">
    <h3 style="margin-top: 0; color: #111827;">ì‚¬ê³  ë‚´ìš©</h3>
    <p style="white-space: pre-wrap; color: #374151;"><%= @insurance_claim.incident_description %></p>
  </div>

  <div class="attachments">
    <h3 style="margin-top: 0; color: #111827;">ğŸ“ ì²¨ë¶€ ì„œë¥˜</h3>
    <ul style="padding-left: 20px; color: #374151;">
      <li>ë³´í—˜ì²­êµ¬ì„œ_<%= @insurance_claim.claim_number %>.pdf</li>
      <% if @insurance_claim.supporting_documents.attached? %>
        <% @insurance_claim.supporting_documents.each_with_index do |doc, index| %>
          <li>í”¼í•´ì‚¬ì§„_<%= index + 1 %>.<%= doc.filename.extension %></li>
        <% end %>
      <% end %>
    </ul>
  </div>

  <div class="footer">
    <p>ë³¸ ì²­êµ¬ì„œëŠ” <strong>ëˆ„ìˆ˜ì²´í¬</strong> í”Œë«í¼ì„ í†µí•´ ìë™ ë°œì†¡ë˜ì—ˆìŠµë‹ˆë‹¤.</p>
    <p>ë¬¸ì˜ì‚¬í•­: support@nusucheck.com | 1588-0000</p>
    <p style="margin-top: 10px; font-size: 11px;">Â© 2026 ëˆ„ìˆ˜ì²´í¬. All rights reserved.</p>
  </div>
</body>
</html>
