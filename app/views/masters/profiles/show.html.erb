<div class="max-w-3xl mx-auto space-y-6">
  <div class="flex items-center justify-between">
    <h1 class="text-2xl font-bold text-gray-900">내 프로필</h1>
    <%= link_to "프로필 수정", edit_masters_profile_path, class: "px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 font-medium text-sm" %>
  </div>

  <!-- 기본 정보 -->
  <div class="bg-white rounded-lg shadow p-6">
    <div class="flex items-start space-x-4">
      <div class="w-20 h-20 rounded-full bg-blue-100 flex items-center justify-center flex-shrink-0">
        <span class="text-blue-600 font-bold text-3xl"><%= current_user.name&.first %></span>
      </div>
      <div>
        <h2 class="text-xl font-bold text-gray-900"><%= current_user.name %></h2>
        <p class="text-sm text-gray-500"><%= current_user.email %></p>
        <div class="mt-2 flex items-center gap-3">
          <% if @profile&.verified? %>
            <span class="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800">
              인증 완료
            </span>
          <% else %>
            <span class="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800">
              인증 대기
            </span>
          <% end %>
          <% if current_user.average_rating > 0 %>
            <span class="text-sm text-gray-600">
              평점 <strong class="text-yellow-500"><%= current_user.average_rating %></strong>
              (<%= current_user.total_reviews_count %>건)
            </span>
          <% end %>
        </div>
      </div>
    </div>
  </div>

  <% if @profile.present? %>
    <!-- 자격 정보 -->
    <div class="bg-white rounded-lg shadow p-6">
      <h2 class="text-lg font-semibold text-gray-900 mb-4">자격 정보</h2>
      <dl class="grid grid-cols-1 sm:grid-cols-2 gap-x-6 gap-y-4">
        <div>
          <dt class="text-sm font-medium text-gray-500">자격증 번호</dt>
          <dd class="mt-1 text-sm text-gray-900"><%= @profile.license_number.presence || "-" %></dd>
        </div>
        <div>
          <dt class="text-sm font-medium text-gray-500">경력</dt>
          <dd class="mt-1 text-sm text-gray-900"><%= @profile.experience_years ? "#{@profile.experience_years}년" : "-" %></dd>
        </div>
      </dl>
    </div>

    <!-- 장비 -->
    <div class="bg-white rounded-lg shadow p-6">
      <h2 class="text-lg font-semibold text-gray-900 mb-4">보유 장비</h2>
      <% if @profile.equipment_list.any? %>
        <div class="flex flex-wrap gap-2">
          <% @profile.equipment_list.each do |equip| %>
            <span class="inline-flex items-center px-3 py-1 rounded-full text-sm bg-gray-100 text-gray-700"><%= equip %></span>
          <% end %>
        </div>
      <% else %>
        <p class="text-sm text-gray-500">등록된 장비가 없습니다.</p>
      <% end %>
    </div>

    <!-- 서비스 지역 -->
    <div class="bg-white rounded-lg shadow p-6">
      <h2 class="text-lg font-semibold text-gray-900 mb-4">서비스 지역</h2>
      <% if @profile.service_areas_list.any? %>
        <div class="flex flex-wrap gap-2">
          <% @profile.service_areas_list.each do |area| %>
            <span class="inline-flex items-center px-3 py-1 rounded-full text-sm bg-blue-100 text-blue-700"><%= area %></span>
          <% end %>
        </div>
      <% else %>
        <p class="text-sm text-gray-500">등록된 서비스 지역이 없습니다.</p>
      <% end %>
    </div>

    <!-- 계좌 정보 -->
    <div class="bg-white rounded-lg shadow p-6">
      <h2 class="text-lg font-semibold text-gray-900 mb-4">계좌 정보</h2>
      <dl class="grid grid-cols-1 sm:grid-cols-3 gap-x-6 gap-y-4">
        <div>
          <dt class="text-sm font-medium text-gray-500">은행</dt>
          <dd class="mt-1 text-sm text-gray-900"><%= @profile.bank_name.presence || "-" %></dd>
        </div>
        <div>
          <dt class="text-sm font-medium text-gray-500">계좌번호</dt>
          <dd class="mt-1 text-sm text-gray-900"><%= @profile.account_number.presence || "-" %></dd>
        </div>
        <div>
          <dt class="text-sm font-medium text-gray-500">예금주</dt>
          <dd class="mt-1 text-sm text-gray-900"><%= @profile.account_holder.presence || "-" %></dd>
        </div>
      </dl>
    </div>

    <!-- 자기소개 -->
    <% if @profile.respond_to?(:bio) && @profile.bio.present? %>
      <div class="bg-white rounded-lg shadow p-6">
        <h2 class="text-lg font-semibold text-gray-900 mb-4">자기소개</h2>
        <p class="text-sm text-gray-700 whitespace-pre-wrap"><%= @profile.bio %></p>
      </div>
    <% end %>
  <% end %>
</div>
